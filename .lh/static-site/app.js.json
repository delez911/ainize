{
    "sourceFile": "static-site/app.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1745460643455,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1745460718625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,31 @@\n+const express = require('express');\n+const path = require('path');\n+const loadHtmlFile = require('./utils/htmlLoader');\n+const app = express();\n+\n+// 设置视图引擎\n+app.set('view engine', 'ejs');\n+app.set('views', path.join(__dirname, 'views'));\n+\n+// 设置静态文件目录\n+app.use(express.static(path.join(__dirname, 'public')));\n+\n+// 路由\n+app.get('/', (req, res) => {\n+    res.render('index', {\n+        title: 'AINize 碳硅自主协同网络科技有限责任公司商业计划书',\n+        sections: [\n+            { id: 'overview', title: '1. 公司概述', content: loadHtmlFile('src/components/overview/overview.html') },\n+            { id: 'market', title: '2. 市场机会', content: loadHtmlFile('src/components/market/market.html') },\n+            { id: 'business', title: '3. 商业模式', content: loadHtmlFile('src/components/business/business.html') },\n+            { id: 'structure', title: '4. 公司结构与利益相关者', content: loadHtmlFile('src/components/structure/structure.html') },\n+            { id: 'technology', title: '5. 技术架构', content: loadHtmlFile('src/components/technology/technology.html') },\n+            { id: 'development', title: '6. 发展规划', content: loadHtmlFile('src/components/development/development.html') }\n+        ]\n+    });\n+});\n+\n+const PORT = process.env.PORT || 3000;\n+app.listen(PORT, () => {\n+    console.log(`Server is running on port ${PORT}`);\n+}); \n\\ No newline at end of file\n"
                },
                {
                    "date": 1745469503146,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,12 @@\n-const express = require('express');\n-const path = require('path');\n-const loadHtmlFile = require('./utils/htmlLoader');\n+import express from 'express';\n+import path from 'path';\n+import { fileURLToPath } from 'url';\n+import { loadHtmlFile } from './utils/htmlLoader.js';\n+\n+const __filename = fileURLToPath(import.meta.url);\n+const __dirname = path.dirname(__filename);\n+\n const app = express();\n \n // 设置视图引擎\n app.set('view engine', 'ejs');\n@@ -27,35 +32,5 @@\n \n const PORT = process.env.PORT || 3000;\n app.listen(PORT, () => {\n     console.log(`Server is running on port ${PORT}`);\n-}); \n-const express = require('express');\n-const path = require('path');\n-const app = express();\n-\n-// 设置视图引擎\n-app.set('view engine', 'ejs');\n-app.set('views', path.join(__dirname, 'views'));\n-\n-// 设置静态文件目录\n-app.use(express.static(path.join(__dirname, 'public')));\n-\n-// 路由\n-app.get('/', (req, res) => {\n-    res.render('index', {\n-        title: 'AINize 碳硅自主协同网络科技有限责任公司商业计划书',\n-        sections: [\n-            { id: 'overview', title: '1. 公司概述', content: require('./src/components/overview/overview.html') },\n-            { id: 'market', title: '2. 市场机会', content: require('./src/components/market/market.html') },\n-            { id: 'business', title: '3. 商业模式', content: require('./src/components/business/business.html') },\n-            { id: 'structure', title: '4. 公司结构与利益相关者', content: require('./src/components/structure/structure.html') },\n-            { id: 'technology', title: '5. 技术架构', content: require('./src/components/technology/technology.html') },\n-            { id: 'development', title: '6. 发展规划', content: require('./src/components/development/development.html') }\n-        ]\n-    });\n-});\n-\n-const PORT = process.env.PORT || 3000;\n-app.listen(PORT, () => {\n-    console.log(`Server is running on port ${PORT}`);\n }); \n\\ No newline at end of file\n"
                },
                {
                    "date": 1745477481074,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,36 +1,72 @@\n import express from 'express';\n import path from 'path';\n import { fileURLToPath } from 'url';\n-import { loadHtmlFile } from './utils/htmlLoader.js';\n+import fs from 'fs';\n \n const __filename = fileURLToPath(import.meta.url);\n const __dirname = path.dirname(__filename);\n \n const app = express();\n+const port = process.env.PORT || 3000;\n \n-// 设置视图引擎\n-app.set('view engine', 'ejs');\n-app.set('views', path.join(__dirname, 'views'));\n+// 读取HTML文件内容的函数\n+function loadHtmlFile(filePath) {\n+  try {\n+    const fullPath = path.join(__dirname, filePath);\n+    return fs.readFileSync(fullPath, 'utf8');\n+  } catch (error) {\n+    console.error(`Error loading HTML file: ${filePath}`, error);\n+    return '';\n+  }\n+}\n \n-// 设置静态文件目录\n-app.use(express.static(path.join(__dirname, 'public')));\n+// 配置静态文件服务\n+app.use(express.static('public'));\n+app.use('/src', express.static('src'));\n \n-// 路由\n+// API路由：获取sections数据\n+app.get('/api/sections', (req, res) => {\n+  const sections = [\n+    { \n+      id: 'overview',\n+      title: '1. 公司概述',\n+      content: loadHtmlFile('src/components/overview/overview.html')\n+    },\n+    {\n+      id: 'market',\n+      title: '2. 市场机会',\n+      content: loadHtmlFile('src/components/market/market.html')\n+    },\n+    {\n+      id: 'business',\n+      title: '3. 商业模式',\n+      content: loadHtmlFile('src/components/business/business.html')\n+    },\n+    {\n+      id: 'structure',\n+      title: '4. 公司结构与利益相关者',\n+      content: loadHtmlFile('src/components/structure/structure.html')\n+    },\n+    {\n+      id: 'technology',\n+      title: '5. 技术架构',\n+      content: loadHtmlFile('src/components/technology/technology.html')\n+    },\n+    {\n+      id: 'development',\n+      title: '6. 发展规划',\n+      content: loadHtmlFile('src/components/development/development.html')\n+    }\n+  ];\n+  \n+  res.json(sections);\n+});\n+\n+// 主页路由\n app.get('/', (req, res) => {\n-    res.render('index', {\n-        title: 'AINize 碳硅自主协同网络科技有限责任公司商业计划书',\n-        sections: [\n-            { id: 'overview', title: '1. 公司概述', content: loadHtmlFile('src/components/overview/overview.html') },\n-            { id: 'market', title: '2. 市场机会', content: loadHtmlFile('src/components/market/market.html') },\n-            { id: 'business', title: '3. 商业模式', content: loadHtmlFile('src/components/business/business.html') },\n-            { id: 'structure', title: '4. 公司结构与利益相关者', content: loadHtmlFile('src/components/structure/structure.html') },\n-            { id: 'technology', title: '5. 技术架构', content: loadHtmlFile('src/components/technology/technology.html') },\n-            { id: 'development', title: '6. 发展规划', content: loadHtmlFile('src/components/development/development.html') }\n-        ]\n-    });\n+  res.sendFile(path.join(__dirname, 'index.html'));\n });\n \n-const PORT = process.env.PORT || 3000;\n-app.listen(PORT, () => {\n-    console.log(`Server is running on port ${PORT}`);\n+app.listen(port, () => {\n+  console.log(`Server is running at http://localhost:${port}`);\n }); \n\\ No newline at end of file\n"
                },
                {
                    "date": 1745477665937,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,68 +1,18 @@\n import express from 'express';\n import path from 'path';\n import { fileURLToPath } from 'url';\n-import fs from 'fs';\n \n const __filename = fileURLToPath(import.meta.url);\n const __dirname = path.dirname(__filename);\n \n const app = express();\n const port = process.env.PORT || 3000;\n \n-// 读取HTML文件内容的函数\n-function loadHtmlFile(filePath) {\n-  try {\n-    const fullPath = path.join(__dirname, filePath);\n-    return fs.readFileSync(fullPath, 'utf8');\n-  } catch (error) {\n-    console.error(`Error loading HTML file: ${filePath}`, error);\n-    return '';\n-  }\n-}\n-\n // 配置静态文件服务\n app.use(express.static('public'));\n app.use('/src', express.static('src'));\n \n-// API路由：获取sections数据\n-app.get('/api/sections', (req, res) => {\n-  const sections = [\n-    { \n-      id: 'overview',\n-      title: '1. 公司概述',\n-      content: loadHtmlFile('src/components/overview/overview.html')\n-    },\n-    {\n-      id: 'market',\n-      title: '2. 市场机会',\n-      content: loadHtmlFile('src/components/market/market.html')\n-    },\n-    {\n-      id: 'business',\n-      title: '3. 商业模式',\n-      content: loadHtmlFile('src/components/business/business.html')\n-    },\n-    {\n-      id: 'structure',\n-      title: '4. 公司结构与利益相关者',\n-      content: loadHtmlFile('src/components/structure/structure.html')\n-    },\n-    {\n-      id: 'technology',\n-      title: '5. 技术架构',\n-      content: loadHtmlFile('src/components/technology/technology.html')\n-    },\n-    {\n-      id: 'development',\n-      title: '6. 发展规划',\n-      content: loadHtmlFile('src/components/development/development.html')\n-    }\n-  ];\n-  \n-  res.json(sections);\n-});\n-\n // 主页路由\n app.get('/', (req, res) => {\n   res.sendFile(path.join(__dirname, 'index.html'));\n });\n"
                }
            ],
            "date": 1745460643455,
            "name": "Commit-0",
            "content": "const express = require('express');\nconst path = require('path');\nconst app = express();\n\n// 设置视图引擎\napp.set('view engine', 'ejs');\napp.set('views', path.join(__dirname, 'views'));\n\n// 设置静态文件目录\napp.use(express.static(path.join(__dirname, 'public')));\n\n// 路由\napp.get('/', (req, res) => {\n    res.render('index', {\n        title: 'AINize 碳硅自主协同网络科技有限责任公司商业计划书',\n        sections: [\n            { id: 'overview', title: '1. 公司概述', content: require('./src/components/overview/overview.html') },\n            { id: 'market', title: '2. 市场机会', content: require('./src/components/market/market.html') },\n            { id: 'business', title: '3. 商业模式', content: require('./src/components/business/business.html') },\n            { id: 'structure', title: '4. 公司结构与利益相关者', content: require('./src/components/structure/structure.html') },\n            { id: 'technology', title: '5. 技术架构', content: require('./src/components/technology/technology.html') },\n            { id: 'development', title: '6. 发展规划', content: require('./src/components/development/development.html') }\n        ]\n    });\n});\n\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () => {\n    console.log(`Server is running on port ${PORT}`);\n}); "
        }
    ]
}